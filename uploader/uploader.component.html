<nav class="navbar navbar-dark bg-dark mb-5">
    <a class="navbar-brand" href="https://www.metalmanagementsolutions.com/">
        <b> MMS - Metal Management Solutions</b>
    </a>
    <a class="pull-right navbar-brand" routerLink="/admin" routerLinkActive="active">
        <b>Admin</b>
    </a>
</nav>

<!-- Card -->
<div class="container col-md-6">
    <div class="card text-white bg-dark mt-5">
        <div class="card-header">
            <h4>Image Uploader</h4>
        </div>

        <div class="col-md-12 text-center mt-3" *ngIf="imgURL && !uploadingSpinner">
            <img class='card-img-top' style="max-height: 50vh !important; width: auto !important; max-width: 50vw;"
                [src]="imgURL">
            <div class="col-md-12">
                <button type="button" class="btn btn-primary mt-3" *ngIf="imgURL" data-toggle='modal'
                    data-target='#myModal'>Preview</button>
            </div>
        </div>


        <div class="card-body">
            <!-- Spinner -->
            <div class="col-md-12 text-center mb-5 mt-5" *ngIf='uploadingSpinner'>
                <div class="spinner-grow" role="status">
                </div>
                <div class="col-md-12">
                    Uploading Your Image...
                </div>
            </div>

            <h5 class="card-title">Select / Capture Image to Upload</h5>

            <!-- Browse/ Select Images-->
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="inputGroupFileAddon01">Select</span>
                </div>
                <div class="custom-file">
                    <input class="custom-file-input" #file type="file" accept='image/*'
                        (change)="preview(file.files)" />
                    <label class="custom-file-label" for="inputGroupFile01">{{FileName}}</label>
                </div>
            </div>

            <button [disabled]='!fileToSubmit' type="button" class="btn btn-primary" (click)='uploadImage()'>Upload
                Image</button>

        </div>
    </div>
</div>



<div class="container">
    <!-- The Modal -->
    <div class="modal fade" id="myModal">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Image Preview</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body col-md-12">
                    <img class="col-md-12" [src]="imgURL">
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>

</div>

